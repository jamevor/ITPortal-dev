"use strict";$(document).ready(function(){var a=$("#featured-content-published-table").DataTable({dom:"t",paging:!1,searching:!0}),b=$("#featured-content-unpublished-table").DataTable({dom:"tipr",pageLength:25,searching:!0});$(".table").on("click",".button-publish",function(a){a.preventDefault(),$.ajax({url:"/api/v1/meta-home/featured-content/set-published/".concat($(a.currentTarget).data("metaid")),method:"PATCH",data:{published:"true"},success:function(){$("#toast-save-success").addClass("show")},error:function(){$("#toast-save-error").addClass("show")}})}),$(".table").on("click",".button-unpublish",function(c){c.preventDefault(),$.ajax({url:"/api/v1/meta-home/featured-content/set-published/".concat($(c.currentTarget).data("metaid")),method:"PATCH",data:{published:"false"},success:function(){$("#toast-save-success").addClass("show");var d=a.row($(c.currentTarget).parents("tr").first()),e=b.row.add(d.data()).draw().node();$(e).css("background","pink!important"),d.remove(),a.draw()},error:function(){$("#toast-save-error").addClass("show")}})}),$("#console-add").click(function(a){a.preventDefault(),$("#modal-console-add").foundation("open")}),$(".console-add-save").click(function(a){a.preventDefault();var b=new FormData;b.append("title",$("#title").val()),b.append("link",$("#link").val()),b.append("published",$("#published").is(":checked")),b.append("position",$("#position").val()),b.append("img",$("#img")[0].files[0]),$.ajax({url:"/api/v1/meta-home/featured-content/create/one",method:"POST",contentType:!1,processData:!1,data:b,success:function(){$("#toast-save-success").addClass("show"),$("#modal-console-add").foundation("close")},error:function(){$("#toast-save-error").addClass("show")}})}),$(".button-edit").click(function(a){a.preventDefault(),$("#edit-id").val($(a.currentTarget).data("metaid")),$("#edit-title").val($(a.currentTarget).data("metatitle")),$("#edit-link").val($(a.currentTarget).data("metalink")),$("#edit-published").prop("checked",$(a.currentTarget).closest("#featured-content-published-table").length),$("#edit-img-changed").val("false"),$("#edit-position").val($(a.currentTarget).data("positionid")).change(),$("#modal-console-edit").foundation("open")}),$("#edit-img").change(function(){$("#edit-img-changed").val("true")}),$(".console-edit-save").click(function(a){a.preventDefault();var b=new FormData;b.append("title",$("#edit-title").val()),b.append("link",$("#edit-link").val()),b.append("published",$("#edit-published").is(":checked")),b.append("position",$("#edit-position").val()),"true"===$("#edit-img-changed").val()&&b.append("img",$("#edit-img")[0].files[0]),$.ajax({url:"/api/v1/meta-home/featured-content/update/one/".concat($("#edit-id").val()),method:"PUT",contentType:!1,processData:!1,data:b,success:function(){$("#toast-save-success").addClass("show"),$("#modal-console-edit").foundation("close")},error:function(){$("#toast-save-error").addClass("show")}})})});