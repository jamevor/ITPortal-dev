"use strict";$(document).ready(function(){registerFavoriteHandler(),$(".app").on("click",".button-remove-app",function(a){a.preventDefault(),updateInstallation($("#app-id").val(),!1)}),$(".app").on("click",".button-add-app",function(a){a.preventDefault(),updateInstallation($("#app-id").val(),!0)})});function updateFavorites(a,b){$.ajax({url:"/api/v1/me/app/set-favorite/one",method:"PATCH",data:{id:a,favorite:b},success:function(){},error:function(a){console.error(a)}})}function updateInstallation(a,b){$.ajax({url:"/api/v1/me/app/set-installed/one",method:"POST",data:{id:a,installed:b},success:function(){$(".box.card.app").html(renderBoxCardApp(b,!1,$("#app-link").val(),$("#app-guid").val())),registerFavoriteHandler()},error:function(a){console.error(a)}})}function renderBoxCardApp(a,b,c,d){return a?"<div class=\"favoriteable\">\n        <input class=\"toggle-heart".concat(b?"":" checkable","\" id=\"toggle-heart-").concat(d,"\" type=\"checkbox\"").concat(b?" checked=\"true\"":"",">\n        <label class=\"toggle-heart-label\" for=\"toggle-heart-").concat(d,"\" aria-label=\"like\">\u2764</label>\n      </div>\n      <a class=\"action button expanded\" href=\"").concat(c,"\" target=\"_blank\"><i class=\"fas fa-power-off\"></i> Open</a>\n      <a class=\"action secondary button button-remove-app\" href=\"#\"><i class=\"fas fa-minus-circle\"></i> Remove</a>"):"<a class=\"action button expanded button-add-app\" href=\"#\"><i class=\"fas fa-plus-circle\"></i> Add</a>"}function registerFavoriteHandler(){$(".toggle-heart").change(function(){updateFavorites($("#app-id").val(),$(".toggle-heart").hasClass("checkable")),setTimeout(function(){$(".toggle-heart").toggleClass("checkable")},1e3)})}