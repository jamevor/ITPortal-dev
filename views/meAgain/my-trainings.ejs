<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
  <%- include('../partials/header.ejs'); %>
  <%- include('../partials/moment.ejs'); %>
  <script async type="text/javascript" src="/js/components/AssetCard.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/search.css">
  <link rel="stylesheet" type="text/css" href="/css/me.css">
  <link rel="stylesheet" type="text/css" href="/css/meAgain.css">
  <link rel="stylesheet" type="text/css" href="/css/my-apps.css">
  <script defer type="text/javascript" src="/js/meAgain/profile.js"></script>
  <style>

    .me-box-items .box-item{
     background: var(--color-body);
       padding: 1em;
       border-radius: 3px;
       color: var(--color-body-text);
       box-shadow: var(--shadow-standard-y);
       display: flex;
       margin-top: .5em;
       margin-bottom: .5em;
       flex-direction: column;
       justify-content: center;
    }
    .me-box-items .box-item:hover,.me-box-items .box-item:focus,.me-box-items .box-item:active{
       box-shadow:var(--shadow-standard-y-h)
    }
    .box-item-title{
       font-size: 1.5em;
       font-weight: 600;
       color: var(--color-body-text);
       text-align: center;
       line-height: 1.1;
    }
    .box-item-date{
       font-size: 1em;
       font-weight: 400;
       color: var(--color-body-subtitle);
       text-align: center;
    }
    .me-box.group.nso-highlight{
       flex-direction: column;
       background: linear-gradient(to bottom, rgba(0, 0, 0, 0.12), rgb(0, 0, 0, 0.43)), url('/img/content/nso1.jpg');
       background-size: cover;
       background-position: center;
       min-height: 400px;
       justify-content: center;
    }
    .nso-highlight h1{
       color: var(--color-light);
       text-align: center;
       font-weight: 600;
       text-shadow: 2px 2px 11px rgb(0 0 0 / 40%);
    }
    .nso-highlight .person-name{
     -webkit-text-stroke: 1px  var(--color-light);
     text-stroke:  1px  var(--color-light);
     color:var(--color-pop)
    }
    .me-quicklink.disabled{
      background-color: var(--color-lane);
      color:var(--color-body-subtitle);
      cursor:not-allowed;
    }
    .me-quicklink.disabled:hover,.me-quicklink.disabled:focus,.me-quicklink.disabled:active{
      background-color: var(--color-lane);
      color:var(--color-body-subtitle);
      cursor:not-allowed;
    }
    .me-link-item.disabled:hover{
     cursor:not-allowed;
     box-shadow: var(--shadow-standard-y)
    }
    .fye-button{
     background: linear-gradient(to right, #6d5faa 0%,#4a4077 100%);
     color: #FFF;
     margin-bottom:1em;
     padding: 3px;
     box-sizing: var(--shadow-standard-y);
     display: flex;
     justify-content: space-between;
     width: auto;
    }
    .fye-button i{
     padding:.5em
    }
    .fye-button:hover,.fye-button:active,.fye-button:focus{
     background: #4a4077;
     color: #FFF;
     box-sizing: var(--shadow-standard-y-h);
    }
    .fye-button > span{
     display: flex;
       padding: 1em;
       border: solid 1px #fff;
       height: 100%;
       align-items: center;
       justify-content: space-between;
       text-align: center;
       font-size: 1.25em;
       font-weight: 600;
       width: 100%;
    }
   
    .fye-button.canvas{
     background: linear-gradient(to right, #23a9e7 0%,#1978a4 100%);;
    }
    .fye-button.canvas:hover,.fye-button.canvas:active,.fye-button.canvas:focus{
     background: #1978a4;
    }
   
    .wpi-news-item-dateBig{
       display: flex;
       flex-direction: column;
       text-align: center;
       justify-content: center;
    }
    .wpi-news-item-dateBig span:first-of-type{
     font-size:2em;
    }
    .wpi-news-item-dateBig span:last-of-type{
       font-size: .875em;
       font-weight: 400;
       color: var(--color-body-subtitle);
    }
    .wpinews-cards-wrapper, .news-cards-wrapper {
       height: auto;
   }
   .wpi-news-item-content {
       padding: 1em;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: space-between;
       text-align: center;
   }
   .wpi-news-item {
       height: auto;
   }
   .me-quicklinkcompact{
       color: var(--color-pop);
       text-decoration: underline;
       margin-bottom: 0.5em;
       line-height: 1;
   
   }
   .me-quicklinkcompact:hover,.me-quicklinkcompact:active,.me-quicklinkcompact:focus{
     color: var(--color-pop-h);
   }
   .me-section .paper{
     padding: 2em 1em 1em 1em;
       background: var(--color-chrome);
       box-shadow: var(--shadow-standard-y);
       border-radius: 3px;
       margin-top: 2em;
       margin-bottom: 1em;
       font-size: 12px;
   }
   .news-sub-item-icon {
     z-index: 1;
   }
   .me-link-item-text,
   .news-sub-item-event h3.news-sub-title{
     font-size: .875em;
   }
   .news-sub-item:before {
     z-index: 0;
   }
   
     .bigDate{
       display: flex;
       flex-direction: column;
     }
     .bigDate-num{
       text-align: center;
       font-size: 2em;
       font-weight: 600;
       color: var(--color-body-text);
       margin-bottom: -0.25em;
     }
     .bigDate-mon{
       text-align: center;
       font-size: .875em;
       font-weight: 400;
       color: var(--color-body-subtitle);
       letter-spacing: 1px;
       margin-bottom: 1em;
     }
     .wpi-news-item-title {
       font-size: .75em;
     }
     .wpi-news-item-title span{
       font-size: .75em;
       color: var(--color-body-subtitle);
       line-height: 1;
     }
     h3.section-header{
       font-size: .875em;
       margin: 0;
       color: var(--color-pop);
       font-weight: 600;
     }
     h3.section-header span{
       color: var(--color-body-subtitle);
       font-weight: 400;
     }
   
     @media screen and (max-width: 39.9375em) {
         .me-quicklinkcompact {
         color: var(--color-pop);
         text-decoration: underline;
         margin: 0.5em;
         line-height: 1;
         text-align: center;
         padding: 0.5em;
       }
     }
   </style>
</head>
<%- include('../partials/layout/top.ejs'); %>
<%
      const showUser = locals.user ? userAttributes.givenname : null;
      const isLoggedIn = locals.user ? true : false;
    %>
<%- include('./partials/top.ejs')%>
<div class="grid-container me-section" style="padding:0">
  <div class="grid-x grid-margin-x me-box group me-box-item">

    <div class="cell medium-12">
      <div class="profile-section-boxless">

          <%if(isLoggedIn){%>
            <%if(inclusiveCourses){%>

          <div class="grid-container me-section" style="padding:0">
              <h2 class="section-header">My Trainings</h2>
                <div class="grid-x grid-margin-x">
                  <h3 class="cell small-12 section-header">Get Inclusive</h3>
                  <%if(inclusiveCourses && inclusiveCourses.results && inclusiveCourses.results[0] && inclusiveCourses.results[0].courses){%>
                    <% const userCourses = inclusiveCourses.results[0].courses%>

                    <%for(userCourse of userCourses){%>
                      <% const courseStatus = {};
                        if(userCourse.status == 'not_started'){
                          courseStatus.icon = 'fa-bell-exclamation';
                          courseStatus.label = 'Not Started';
                          courseStatus.color = 'var(--color-bright-1)';
                        }else if(userCourse.status == 'in_progress'){
                          courseStatus.icon = 'fa-hourglass-half';
                          courseStatus.label = 'In Progress';
                          courseStatus.color = 'var(--color-bright-3)';
                        }else if(userCourse.status == 'completed'){
                          courseStatus.icon = 'fa-check-circle';
                          courseStatus.label = 'Completed';
                          courseStatus.color = 'var(--color-bright-2)';
                        }else{
                          courseStatus.icon = 'fa-question-circle';
                          courseStatus.label = 'Unknown';
                          courseStatus.color = 'var(--color-bright-5)';
                        }
                      %>
                      <a class="cell small-12 medium-6 me-link-item" href="<%=userCourse.auth_link%>">
                        <div class="grid-x">

                          <div class="cell small-10 me-link-item-text">
                            <h3><%=userCourse.title%></h3>
                            <div>Get Inclusive</div>

                            <div class="success progress">
                              <div class="progress-meter" style="width: <%=userCourse.completion_percent%>%"></div>
                            </div>
                          </div>

                          <div class="cell small-2 me-link-item-status">
                            <i class="fal <%=courseStatus.icon%>" style="color:<%=courseStatus.color%>"></i>
                            <div style="line-height: 1;"><%=courseStatus.label%></div>
                          </div>
                        </div>
                      </a>
                    <%}%>

                  <%}else{%>
                    <p>You do not have any assigned Get Inclusive courses right now. If you think you should <a href="mailto:" target="_blank">please let us know</a>!</p>
                  <%}%>
                  <h3 class="cell small-12 section-header">Kognito</h3>
                  <a class="cell small-12 medium-6 me-link-item" href="http://wpi.kognito.com/" target="_blank">
                        <div class="grid-x">

                          <div class="cell small-10 me-link-item-text">
                            <h3>Mental Health</h3>
                            <div>Kognito</div>

                          </div>
                        </div>
                      </a>
                </div>
            </div>
            <%}else{%>

            <%}%>
          <%}%>
    </div>
  
  </div>
</div>

<%- include('./partials/bottom.ejs'); %>

<%- include('../partials/layout/bottom.ejs'); %>
</html>